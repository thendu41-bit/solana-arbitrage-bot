var A=Object.create;var p=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,K=Object.prototype.hasOwnProperty;var C=(t,n)=>{for(var o in n)p(t,o,{get:n[o],enumerable:!0})},L=(t,n,o,u)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of M(n))!K.call(t,s)&&s!==o&&p(t,s,{get:()=>n[s],enumerable:!(u=I(n,s))||u.enumerable});return t};var D=(t,n,o)=>(o=t!=null?A(R(t)):{},L(n||!t||!t.__esModule?p(o,"default",{value:t,enumerable:!0}):o,t)),N=t=>L(p({},"__esModule",{value:!0}),t);var v={};C(v,{makeClaimInstruction:()=>O,makeClaimInstructionV4:()=>q,makePurchaseInstruction:()=>W});module.exports=N(v);var i=require("@solana/web3.js"),d=require("@solana/spl-token");var r=require("@solana/web3.js"),S=require("@solana/spl-token");function b({pubkey:t,isSigner:n=!1,isWritable:o=!0}){return{pubkey:t,isWritable:o,isSigner:n}}var Y=[b({pubkey:S.TOKEN_PROGRAM_ID,isWritable:!1}),b({pubkey:r.SystemProgram.programId,isWritable:!1}),b({pubkey:r.SYSVAR_RENT_PUBKEY,isWritable:!1})];var j=new r.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),X=new r.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),T=new r.PublicKey("SysvarRent111111111111111111111111111111111"),x=new r.PublicKey("SysvarC1ock11111111111111111111111111111111"),z=new r.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),H=new r.PublicKey("Sysvar1nstructions1111111111111111111111111"),h=r.SystemProgram.programId,F=new r.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),J=new r.PublicKey("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),Q=new r.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),Z=new r.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),$=new r.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),ee=new r.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),te=new r.PublicKey("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),ne=new r.PublicKey("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),re=new r.PublicKey("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),oe=new r.PublicKey("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),se=new r.PublicKey("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),ue=new r.PublicKey("So11111111111111111111111111111111111111112"),ae=r.PublicKey.default;var E=require("@solana/web3.js"),k=D(require("bn.js"));var e=require("@solana/buffer-layout");var w=e.Structure;var _=e.UInt;var B=e.nu64;function l(t){return new _(1,t)}var f=class extends w{decode(n,o){return super.decode(n,o)}};function m(t,n,o){return new f(t,n,o)}var g=m([l("instruction"),B("amount")]),c=m([l("instruction")]);function W({programId:t,amount:n,instructionKeys:o}){let u=[{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:d.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},...Object.entries(o).map(([a,y])=>({pubkey:y,isSigner:a==="userOwner",isWritable:!["authority","userOwner","userIdoCheck","userStakeInfo"].includes(a)}))],s=Buffer.alloc(g.span);return g.encode({instruction:1,amount:Number(n)},s),new i.TransactionInstruction({keys:u,programId:t,data:s})}function O({programId:t},n){let o=[{pubkey:d.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},...Object.entries(n).map(([s,a])=>({pubkey:a,isSigner:s==="userOwner",isWritable:!["authority","userOwner"].includes(s)}))],u=Buffer.alloc(c.span);return c.encode({instruction:2},u),new i.TransactionInstruction({keys:o,programId:t,data:u})}function q(t){let{poolConfig:n,userKeys:o,side:u}=t,s=u==="base"?o.baseTokenAccount:o.quoteTokenAccount,a=u==="base"?n.baseVault:n.quoteVault,y=Buffer.alloc(c.span);c.encode({instruction:2},y);let U=[{pubkey:d.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:i.SYSVAR_CLOCK_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:n.id,isWritable:!0,isSigner:!1},{pubkey:n.authority,isWritable:!1,isSigner:!1},{pubkey:a,isWritable:!0,isSigner:!1},{pubkey:s,isWritable:!0,isSigner:!1},{pubkey:o.ledgerAccount,isWritable:!0,isSigner:!1},{pubkey:o.owner,isWritable:!1,isSigner:!0}];return new i.TransactionInstruction({programId:n.programId,keys:U,data:y})}0&&(module.exports={makeClaimInstruction,makeClaimInstructionV4,makePurchaseInstruction});
//# sourceMappingURL=instruction.js.map