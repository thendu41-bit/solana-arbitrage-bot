import{PublicKey as e}from"@solana/web3.js";var z=new e("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),Q=new e("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),J=new e("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),Y=new e("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),Z=new e("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),X=new e("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),x=new e("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),$=new e("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),ee=new e("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),te=new e("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),re=new e("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),ne=new e("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),oe=new e("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),se=new e("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),ue=new e("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),ae=new e("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),ie=new e("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),ce=new e("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),pe=new e("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),ye=new e("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),Pe=new e("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),de=new e("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),C=new e("CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"),B=new e("7rQ1QFNosMkUCuh7Z7fPbTHvh73b68sQYdirycEzJVuw"),D=new e("G11FKBRaAkHAKuLCgLM6K6NUc9rTjPAznRCjZifrTQe2"),xe=new e("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),O=new e("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),Le=new e("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),V=new e("7AFUeLVRjBfzqK3tTGw8hN48KLQWSk6DTE8xprWdPqix"),fe=new e("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),be=new e("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),v=new e("7soRSLviCKHCKzCbRuVpZDif76NWLVqFtbjt8LpyxWSq"),k=new e("DG6kZFFCqxdtWXw53Zc28hLs3MTr28Efkm2FrsNERNSQ");var ge={SERUM_MARKET:e.default,OPENBOOK_MARKET:new e("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),UTIL1216:e.default,FarmV3:new e("85BFyr98MbCUU9MVTEgzx1nbhWACbJqLzho6zd6DZcWL"),FarmV5:new e("EcLzTrNg9V7qhcdyXDe2qjtPkiGzDM2UbdRaeaadU5r2"),FarmV6:new e("Farm2hJLcqPtPg8M4rR6DMrsRNc5TPm5Cs4bVQrMe2T7"),AmmV4:new e("HWy1jotHpo6UqeQxx49dpYYdQB8wj9Qk9MdxwjLvDHB8"),AmmStable:new e("DDg4VmQaJV9ogWce7LpcjBA9bv22wRp5uaTPa5pGjijF"),CLMM:new e("devi51mZmdwUJGU9hjN27vEz64Gps7uUefqxg27EAtH"),CLMM_LOCK_PROGRAM_ID:new e("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),CLMM_LOCK_AUTH_ID:new e("8qmHNvu2Kr2C7U8mJL4Vz1vTDxMhVuXKREwU7TNoaVEo"),Router:new e("BVChZ3XFEwTMUk1o9i3HAf91H6mFxSwa5X2wFAWhYPhU"),CREATE_CPMM_POOL_PROGRAM:C,CREATE_CPMM_POOL_AUTH:B,CREATE_CPMM_POOL_FEE_ACC:D,FEE_DESTINATION_ID:new e("3XMrhbv989VxAMi3DErLV9eJht1pHppW5LbKxe9fkEFR"),LOCK_CPMM_PROGRAM:O,LCOK_CPMM_AUTH:V,LAUNCHPAD_PROGRAM:v,LAUNCHPAD_AUTH:k};var l={[x.toBase58()]:3},_={3:x};import{PublicKey as N}from"@solana/web3.js";import h,{isBN as wt}from"bn.js";import{bits as he,BitStructure as Me,blob as K,Blob as we,cstr as Ae,f32 as Se,f32be as Re,f64 as Ee,f64be as Ue,greedy as Ce,Layout as G,ns64 as Be,ns64be as De,nu64 as Oe,nu64be as Ve,offset as ve,s16 as ke,s16be as Ke,s24 as Ge,s24be as Ie,s32 as Ne,s32be as He,s40 as Fe,s40be as qe,s48 as We,s48be as je,s8 as ze,seq as Qe,struct as Je,Structure as I,u16 as Ye,u16be as Ze,u24 as Xe,u24be as $e,u32 as et,u32be as tt,u40 as rt,u40be as nt,u48 as ot,u48be as st,u8 as ut,UInt as at,union as it,Union as ct,unionLayoutDiscriminator as pt,utf8 as yt}from"@solana/buffer-layout";var L=G,T=I;var p=K;var f=class extends L{constructor(r,n,o){super(r,o);this.blob=p(r),this.signed=n}decode(r,n=0){let o=new h(this.blob.decode(r,n),10,"le");return this.signed?o.fromTwos(this.span*8).clone():o}encode(r,n,o=0){return typeof r=="number"&&(r=new h(r)),this.signed&&(r=r.toTwos(this.span*8)),this.blob.encode(r.toArrayLike(Buffer,"le",this.span),n,o)}};function u(s){return new f(8,!1,s)}var b=class extends L{constructor(r,n,o,y){super(r.span,y);this.layout=r,this.decoder=n,this.encoder=o}decode(r,n){return this.decoder(this.layout.decode(r,n))}encode(r,n,o){return this.layout.encode(this.encoder(r),n,o)}getSpan(r,n){return this.layout.getSpan(r,n)}};function a(s){return new b(p(32),t=>new N(t),t=>t.toBuffer(),s)}var g=class extends T{decode(t,r){return super.decode(t,r)}};function M(s,t,r){return new g(s,t,r)}var H=M([p(5),p(8),a("ownAddress"),u("vaultSignerNonce"),a("baseMint"),a("quoteMint"),a("baseVault"),u("baseDepositsTotal"),u("baseFeesAccrued"),a("quoteVault"),u("quoteDepositsTotal"),u("quoteFeesAccrued"),u("quoteDustThreshold"),a("requestQueue"),a("eventQueue"),a("bids"),a("asks"),u("baseLotSize"),u("quoteLotSize"),u("feeRateBps"),u("referrerRebatesAccrued"),p(7)]),w={3:H};import{PublicKey as E}from"@solana/web3.js";import{get as A,set as F}from"lodash";var m=class{constructor(t){this.logLevel=t.logLevel!==void 0?t.logLevel:0,this.name=t.name}set level(t){this.logLevel=t}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(t){return t<=this.logLevel}error(...t){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...t),this):this}logWithError(...t){let r=t.map(n=>typeof n=="object"?JSON.stringify(n):n).join(", ");throw new Error(r)}warning(...t){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...t),this):this}info(...t){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...t),this):this}debug(...t){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...t),this):this}},S={},q={};function R(s){let t=A(S,s);if(!t){let r=A(q,s);t=new m({name:s,logLevel:r}),F(S,s,t)}return t}var d=R("Serum"),U=class{static getProgramId(t){let r=_[t];return r||d.logWithError("invalid version","version",t),r}static getVersion(t){let r=t.toBase58(),n=l[r];return n||d.logWithError("invalid program id","programId",r),n}static getStateLayout(t){let r=w[t];return r||d.logWithError(!!r,"invalid version","version",t),r}static getLayouts(t){return{state:this.getStateLayout(t)}}static getAssociatedAuthority({programId:t,marketId:r}){let n=[r.toBuffer()],o=0,y;for(;o<100;){try{let P=n.concat(Buffer.from([o]),Buffer.alloc(7));y=E.createProgramAddressSync(P,t)}catch(P){if(P instanceof TypeError)throw P;o++;continue}return{publicKey:y,nonce:o}}return d.logWithError("unable to find a viable program address nonce","params",{programId:t,marketId:r}),{publicKey:E.default,nonce:o}}};export{H as MARKET_STATE_LAYOUT_V3,w as MARKET_VERSION_TO_STATE_LAYOUT,U as Market,l as SERUM_PROGRAMID_TO_VERSION,_ as SERUM_VERSION_TO_PROGRAMID};
//# sourceMappingURL=index.mjs.map