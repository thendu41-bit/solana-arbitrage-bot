var Pn=Object.defineProperty,An=Object.defineProperties;var kn=Object.getOwnPropertyDescriptors;var ht=Object.getOwnPropertySymbols;var Tn=Object.prototype.hasOwnProperty,hn=Object.prototype.propertyIsEnumerable;var Bt=(e,t,n)=>t in e?Pn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z=(e,t)=>{for(var n in t||(t={}))Tn.call(t,n)&&Bt(e,n,t[n]);if(ht)for(var n of ht(t))hn.call(t,n)&&Bt(e,n,t[n]);return e},Y=(e,t)=>An(e,kn(t));import Se from"bn.js";var le=9e15,ae=1e9,Ye="0123456789abcdef",Me="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Oe="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Je={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-le,maxE:le,crypto:!1},Ct,te,P=!0,Ee="[DecimalError] ",se=Ee+"Invalid argument: ",Kt=Ee+"Precision limit exceeded",Nt=Ee+"crypto unavailable",Lt="[object Decimal]",v=Math.floor,M=Math.pow,Bn=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,xn=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,In=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Rt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Q=1e7,g=7,Sn=9007199254740991,Cn=Me.length-1,$e=Oe.length-1,p={toStringTag:Lt};p.absoluteValue=p.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),f(e)};p.ceil=function(){return f(new this.constructor(this),this.e+1,2)};p.clampedTo=p.clamp=function(e,t){var n,i=this,r=i.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(se+t);return n=i.cmp(e),n<0?e:i.cmp(t)>0?t:new r(i)};p.comparedTo=p.cmp=function(e){var t,n,i,r,o=this,s=o.d,a=(e=new o.constructor(e)).d,c=o.s,u=e.s;if(!s||!a)return!c||!u?NaN:c!==u?c:s===a?0:!s^c<0?1:-1;if(!s[0]||!a[0])return s[0]?c:a[0]?-u:0;if(c!==u)return c;if(o.e!==e.e)return o.e>e.e^c<0?1:-1;for(i=s.length,r=a.length,t=0,n=i<r?i:r;t<n;++t)if(s[t]!==a[t])return s[t]>a[t]^c<0?1:-1;return i===r?0:i>r^c<0?1:-1};p.cosine=p.cos=function(){var e,t,n=this,i=n.constructor;return n.d?n.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(n.e,n.sd())+g,i.rounding=1,n=Kn(i,vt(i,n)),i.precision=e,i.rounding=t,f(te==2||te==3?n.neg():n,e,t,!0)):new i(1):new i(NaN)};p.cubeRoot=p.cbrt=function(){var e,t,n,i,r,o,s,a,c,u,l=this,m=l.constructor;if(!l.isFinite()||l.isZero())return new m(l);for(P=!1,o=l.s*M(l.s*l,1/3),!o||Math.abs(o)==1/0?(n=O(l.d),e=l.e,(o=(e-n.length+1)%3)&&(n+=o==1||o==-2?"0":"00"),o=M(n,1/3),e=v((e+1)/3)-(e%3==(e<0?-1:2)),o==1/0?n="5e"+e:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),i=new m(n),i.s=l.s):i=new m(o.toString()),s=(e=m.precision)+3;;)if(a=i,c=a.times(a).times(a),u=c.plus(l),i=I(u.plus(l).times(a),u.plus(c),s+2,1),O(a.d).slice(0,s)===(n=O(i.d)).slice(0,s))if(n=n.slice(s-3,s+1),n=="9999"||!r&&n=="4999"){if(!r&&(f(a,e+1,0),a.times(a).times(a).eq(l))){i=a;break}s+=4,r=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(f(i,e+1,1),t=!i.times(i).times(i).eq(l));break}return P=!0,f(i,e,m.rounding,t)};p.decimalPlaces=p.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-v(this.e/g))*g,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};p.dividedBy=p.div=function(e){return I(this,new this.constructor(e))};p.dividedToIntegerBy=p.divToInt=function(e){var t=this,n=t.constructor;return f(I(t,new n(e),0,1,1),n.precision,n.rounding)};p.equals=p.eq=function(e){return this.cmp(e)===0};p.floor=function(){return f(new this.constructor(this),this.e+1,3)};p.greaterThan=p.gt=function(e){return this.cmp(e)>0};p.greaterThanOrEqualTo=p.gte=function(e){var t=this.cmp(e);return t==1||t===0};p.hyperbolicCosine=p.cosh=function(){var e,t,n,i,r,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;n=s.precision,i=s.rounding,s.precision=n+Math.max(o.e,o.sd())+4,s.rounding=1,r=o.d.length,r<32?(e=Math.ceil(r/3),t=(1/De(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),o=me(s,1,o.times(t),new s(1),!0);for(var c,u=e,l=new s(8);u--;)c=o.times(o),o=a.minus(c.times(l.minus(c.times(l))));return f(o,s.precision=n,s.rounding=i,!0)};p.hyperbolicSine=p.sinh=function(){var e,t,n,i,r=this,o=r.constructor;if(!r.isFinite()||r.isZero())return new o(r);if(t=o.precision,n=o.rounding,o.precision=t+Math.max(r.e,r.sd())+4,o.rounding=1,i=r.d.length,i<3)r=me(o,2,r,r,!0);else{e=1.4*Math.sqrt(i),e=e>16?16:e|0,r=r.times(1/De(5,e)),r=me(o,2,r,r,!0);for(var s,a=new o(5),c=new o(16),u=new o(20);e--;)s=r.times(r),r=r.times(a.plus(s.times(c.times(s).plus(u))))}return o.precision=t,o.rounding=n,f(r,t,n,!0)};p.hyperbolicTangent=p.tanh=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,I(n.sinh(),n.cosh(),i.precision=e,i.rounding=t)):new i(n.s)};p.inverseCosine=p.acos=function(){var e,t=this,n=t.constructor,i=t.abs().cmp(1),r=n.precision,o=n.rounding;return i!==-1?i===0?t.isNeg()?j(n,r,o):new n(0):new n(NaN):t.isZero()?j(n,r+4,o).times(.5):(n.precision=r+6,n.rounding=1,t=t.asin(),e=j(n,r+4,o).times(.5),n.precision=r,n.rounding=o,e.minus(t))};p.inverseHyperbolicCosine=p.acosh=function(){var e,t,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,P=!1,n=n.times(n).minus(1).sqrt().plus(n),P=!0,i.precision=e,i.rounding=t,n.ln()):new i(n)};p.inverseHyperbolicSine=p.asinh=function(){var e,t,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,P=!1,n=n.times(n).plus(1).sqrt().plus(n),P=!0,i.precision=e,i.rounding=t,n.ln())};p.inverseHyperbolicTangent=p.atanh=function(){var e,t,n,i,r=this,o=r.constructor;return r.isFinite()?r.e>=0?new o(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(e=o.precision,t=o.rounding,i=r.sd(),Math.max(i,e)<2*-r.e-1?f(new o(r),e,t,!0):(o.precision=n=i-r.e,r=I(r.plus(1),new o(1).minus(r),n+e,1),o.precision=e+4,o.rounding=1,r=r.ln(),o.precision=e,o.rounding=t,r.times(.5))):new o(NaN)};p.inverseSine=p.asin=function(){var e,t,n,i,r=this,o=r.constructor;return r.isZero()?new o(r):(t=r.abs().cmp(1),n=o.precision,i=o.rounding,t!==-1?t===0?(e=j(o,n+4,i).times(.5),e.s=r.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,r=r.div(new o(1).minus(r.times(r)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=i,r.times(2)))};p.inverseTangent=p.atan=function(){var e,t,n,i,r,o,s,a,c,u=this,l=u.constructor,m=l.precision,d=l.rounding;if(u.isFinite()){if(u.isZero())return new l(u);if(u.abs().eq(1)&&m+4<=$e)return s=j(l,m+4,d).times(.25),s.s=u.s,s}else{if(!u.s)return new l(NaN);if(m+4<=$e)return s=j(l,m+4,d).times(.5),s.s=u.s,s}for(l.precision=a=m+10,l.rounding=1,n=Math.min(28,a/g+2|0),e=n;e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(P=!1,t=Math.ceil(a/g),i=1,c=u.times(u),s=new l(u),r=u;e!==-1;)if(r=r.times(c),o=s.minus(r.div(i+=2)),r=r.times(c),s=o.plus(r.div(i+=2)),s.d[t]!==void 0)for(e=t;s.d[e]===o.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),P=!0,f(s,l.precision=m,l.rounding=d,!0)};p.isFinite=function(){return!!this.d};p.isInteger=p.isInt=function(){return!!this.d&&v(this.e/g)>this.d.length-2};p.isNaN=function(){return!this.s};p.isNegative=p.isNeg=function(){return this.s<0};p.isPositive=p.isPos=function(){return this.s>0};p.isZero=function(){return!!this.d&&this.d[0]===0};p.lessThan=p.lt=function(e){return this.cmp(e)<0};p.lessThanOrEqualTo=p.lte=function(e){return this.cmp(e)<1};p.logarithm=p.log=function(e){var t,n,i,r,o,s,a,c,u=this,l=u.constructor,m=l.precision,d=l.rounding,b=5;if(e==null)e=new l(10),t=!0;else{if(e=new l(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new l(n&&!n[0]?-1/0:u.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(r=n[0];r%10===0;)r/=10;o=r!==1}if(P=!1,a=m+b,s=oe(u,a),i=t?Fe(l,a+10):oe(e,a),c=I(s,i,a,1),ge(c.d,r=m,d))do if(a+=10,s=oe(u,a),i=t?Fe(l,a+10):oe(e,a),c=I(s,i,a,1),!o){+O(c.d).slice(r+1,r+15)+1==1e14&&(c=f(c,m+1,0));break}while(ge(c.d,r+=10,d));return P=!0,f(c,m,d)};p.minus=p.sub=function(e){var t,n,i,r,o,s,a,c,u,l,m,d,b=this,h=b.constructor;if(e=new h(e),!b.d||!e.d)return!b.s||!e.s?e=new h(NaN):b.d?e.s=-e.s:e=new h(e.d||b.s!==e.s?b:NaN),e;if(b.s!=e.s)return e.s=-e.s,b.plus(e);if(u=b.d,d=e.d,a=h.precision,c=h.rounding,!u[0]||!d[0]){if(d[0])e.s=-e.s;else if(u[0])e=new h(b);else return new h(c===3?-0:0);return P?f(e,a,c):e}if(n=v(e.e/g),l=v(b.e/g),u=u.slice(),o=l-n,o){for(m=o<0,m?(t=u,o=-o,s=d.length):(t=d,n=l,s=u.length),i=Math.max(Math.ceil(a/g),s)+2,o>i&&(o=i,t.length=1),t.reverse(),i=o;i--;)t.push(0);t.reverse()}else{for(i=u.length,s=d.length,m=i<s,m&&(s=i),i=0;i<s;i++)if(u[i]!=d[i]){m=u[i]<d[i];break}o=0}for(m&&(t=u,u=d,d=t,e.s=-e.s),s=u.length,i=d.length-s;i>0;--i)u[s++]=0;for(i=d.length;i>o;){if(u[--i]<d[i]){for(r=i;r&&u[--r]===0;)u[r]=Q-1;--u[r],u[i]+=Q}u[i]-=d[i]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=ve(u,n),P?f(e,a,c):e):new h(c===3?-0:0)};p.modulo=p.mod=function(e){var t,n=this,i=n.constructor;return e=new i(e),!n.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||n.d&&!n.d[0]?f(new i(n),i.precision,i.rounding):(P=!1,i.modulo==9?(t=I(n,e.abs(),0,3,1),t.s*=e.s):t=I(n,e,0,i.modulo,1),t=t.times(e),P=!0,n.minus(t))};p.naturalExponential=p.exp=function(){return et(this)};p.naturalLogarithm=p.ln=function(){return oe(this)};p.negated=p.neg=function(){var e=new this.constructor(this);return e.s=-e.s,f(e)};p.plus=p.add=function(e){var t,n,i,r,o,s,a,c,u,l,m=this,d=m.constructor;if(e=new d(e),!m.d||!e.d)return!m.s||!e.s?e=new d(NaN):m.d||(e=new d(e.d||m.s===e.s?m:NaN)),e;if(m.s!=e.s)return e.s=-e.s,m.minus(e);if(u=m.d,l=e.d,a=d.precision,c=d.rounding,!u[0]||!l[0])return l[0]||(e=new d(m)),P?f(e,a,c):e;if(o=v(m.e/g),i=v(e.e/g),u=u.slice(),r=o-i,r){for(r<0?(n=u,r=-r,s=l.length):(n=l,i=o,s=u.length),o=Math.ceil(a/g),s=o>s?o+1:s+1,r>s&&(r=s,n.length=1),n.reverse();r--;)n.push(0);n.reverse()}for(s=u.length,r=l.length,s-r<0&&(r=s,n=l,l=u,u=n),t=0;r;)t=(u[--r]=u[r]+l[r]+t)/Q|0,u[r]%=Q;for(t&&(u.unshift(t),++i),s=u.length;u[--s]==0;)u.pop();return e.d=u,e.e=ve(u,i),P?f(e,a,c):e};p.precision=p.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(se+e);return n.d?(t=Mt(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};p.round=function(){var e=this,t=e.constructor;return f(new t(e),e.e+1,t.rounding)};p.sine=p.sin=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+Math.max(n.e,n.sd())+g,i.rounding=1,n=Ln(i,vt(i,n)),i.precision=e,i.rounding=t,f(te>2?n.neg():n,e,t,!0)):new i(NaN)};p.squareRoot=p.sqrt=function(){var e,t,n,i,r,o,s=this,a=s.d,c=s.e,u=s.s,l=s.constructor;if(u!==1||!a||!a[0])return new l(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);for(P=!1,u=Math.sqrt(+s),u==0||u==1/0?(t=O(a),(t.length+c)%2==0&&(t+="0"),u=Math.sqrt(t),c=v((c+1)/2)-(c<0||c%2),u==1/0?t="5e"+c:(t=u.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),i=new l(t)):i=new l(u.toString()),n=(c=l.precision)+3;;)if(o=i,i=o.plus(I(s,o,n+2,1)).times(.5),O(o.d).slice(0,n)===(t=O(i.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!r&&t=="4999"){if(!r&&(f(o,c+1,0),o.times(o).eq(s))){i=o;break}n+=4,r=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(f(i,c+1,1),e=!i.times(i).eq(s));break}return P=!0,f(i,c,l.rounding,e)};p.tangent=p.tan=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,n=n.sin(),n.s=1,n=I(n,new i(1).minus(n.times(n)).sqrt(),e+10,0),i.precision=e,i.rounding=t,f(te==2||te==4?n.neg():n,e,t,!0)):new i(NaN)};p.times=p.mul=function(e){var t,n,i,r,o,s,a,c,u,l=this,m=l.constructor,d=l.d,b=(e=new m(e)).d;if(e.s*=l.s,!d||!d[0]||!b||!b[0])return new m(!e.s||d&&!d[0]&&!b||b&&!b[0]&&!d?NaN:!d||!b?e.s/0:e.s*0);for(n=v(l.e/g)+v(e.e/g),c=d.length,u=b.length,c<u&&(o=d,d=b,b=o,s=c,c=u,u=s),o=[],s=c+u,i=s;i--;)o.push(0);for(i=u;--i>=0;){for(t=0,r=c+i;r>i;)a=o[r]+b[i]*d[r-i-1]+t,o[r--]=a%Q|0,t=a/Q|0;o[r]=(o[r]+t)%Q|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=ve(o,n),P?f(e,m.precision,m.rounding):e};p.toBinary=function(e,t){return nt(this,2,e,t)};p.toDecimalPlaces=p.toDP=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(q(e,0,ae),t===void 0?t=i.rounding:q(t,0,8),f(n,e+n.e+1,t))};p.toExponential=function(e,t){var n,i=this,r=i.constructor;return e===void 0?n=J(i,!0):(q(e,0,ae),t===void 0?t=r.rounding:q(t,0,8),i=f(new r(i),e+1,t),n=J(i,!0,e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};p.toFixed=function(e,t){var n,i,r=this,o=r.constructor;return e===void 0?n=J(r):(q(e,0,ae),t===void 0?t=o.rounding:q(t,0,8),i=f(new o(r),e+r.e+1,t),n=J(i,!1,e+i.e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};p.toFraction=function(e){var t,n,i,r,o,s,a,c,u,l,m,d,b=this,h=b.d,k=b.constructor;if(!h)return new k(b);if(u=n=new k(1),i=c=new k(0),t=new k(i),o=t.e=Mt(h)-b.e-1,s=o%g,t.d[0]=M(10,s<0?g+s:s),e==null)e=o>0?t:u;else{if(a=new k(e),!a.isInt()||a.lt(u))throw Error(se+a);e=a.gt(t)?o>0?t:u:a}for(P=!1,a=new k(O(h)),l=k.precision,k.precision=o=h.length*g*2;m=I(a,t,0,1,1),r=n.plus(m.times(i)),r.cmp(e)!=1;)n=i,i=r,r=u,u=c.plus(m.times(r)),c=r,r=t,t=a.minus(m.times(r)),a=r;return r=I(e.minus(n),i,0,1,1),c=c.plus(r.times(u)),n=n.plus(r.times(i)),c.s=u.s=b.s,d=I(u,i,o,1).minus(b).abs().cmp(I(c,n,o,1).minus(b).abs())<1?[u,i]:[c,n],k.precision=l,P=!0,d};p.toHexadecimal=p.toHex=function(e,t){return nt(this,16,e,t)};p.toNearest=function(e,t){var n=this,i=n.constructor;if(n=new i(n),e==null){if(!n.d)return n;e=new i(1),t=i.rounding}else{if(e=new i(e),t===void 0?t=i.rounding:q(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(P=!1,n=I(n,e,0,t,1).times(e),P=!0,f(n)):(e.s=n.s,n=e),n};p.toNumber=function(){return+this};p.toOctal=function(e,t){return nt(this,8,e,t)};p.toPower=p.pow=function(e){var t,n,i,r,o,s,a=this,c=a.constructor,u=+(e=new c(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new c(M(+a,u));if(a=new c(a),a.eq(1))return a;if(i=c.precision,o=c.rounding,e.eq(1))return f(a,i,o);if(t=v(e.e/g),t>=e.d.length-1&&(n=u<0?-u:u)<=Sn)return r=Ot(c,a,n,i),e.s<0?new c(1).div(r):f(r,i,o);if(s=a.s,s<0){if(t<e.d.length-1)return new c(NaN);if((e.d[t]&1)==0&&(s=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=s,a}return n=M(+a,u),t=n==0||!isFinite(n)?v(u*(Math.log("0."+O(a.d))/Math.LN10+a.e+1)):new c(n+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?s/0:0):(P=!1,c.rounding=a.s=1,n=Math.min(12,(t+"").length),r=et(e.times(oe(a,i+n)),i),r.d&&(r=f(r,i+5,1),ge(r.d,i,o)&&(t=i+10,r=f(et(e.times(oe(a,t+n)),t),t+5,1),+O(r.d).slice(i+1,i+15)+1==1e14&&(r=f(r,i+1,0)))),r.s=s,P=!0,c.rounding=o,f(r,i,o))};p.toPrecision=function(e,t){var n,i=this,r=i.constructor;return e===void 0?n=J(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):(q(e,1,ae),t===void 0?t=r.rounding:q(t,0,8),i=f(new r(i),e,t),n=J(i,e<=i.e||i.e<=r.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+n:n};p.toSignificantDigits=p.toSD=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(q(e,1,ae),t===void 0?t=i.rounding:q(t,0,8)),f(new i(n),e,t)};p.toString=function(){var e=this,t=e.constructor,n=J(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};p.truncated=p.trunc=function(){return f(new this.constructor(this),this.e+1,1)};p.valueOf=p.toJSON=function(){var e=this,t=e.constructor,n=J(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function O(e){var t,n,i,r=e.length-1,o="",s=e[0];if(r>0){for(o+=s,t=1;t<r;t++)i=e[t]+"",n=g-i.length,n&&(o+=re(n)),o+=i;s=e[t],i=s+"",n=g-i.length,n&&(o+=re(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}function q(e,t,n){if(e!==~~e||e<t||e>n)throw Error(se+e)}function ge(e,t,n,i){var r,o,s,a;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=g,r=0):(r=Math.ceil((t+1)/g),t%=g),o=M(10,g-t),a=e[r]%o|0,i==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),s=n<4&&a==99999||n>3&&a==49999||a==5e4||a==0):s=(n<4&&a+1==o||n>3&&a+1==o/2)&&(e[r+1]/o/100|0)==M(10,t-2)-1||(a==o/2||a==0)&&(e[r+1]/o/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),s=(i||n<4)&&a==9999||!i&&n>3&&a==4999):s=((i||n<4)&&a+1==o||!i&&n>3&&a+1==o/2)&&(e[r+1]/o/1e3|0)==M(10,t-3)-1,s}function Re(e,t,n){for(var i,r=[0],o,s=0,a=e.length;s<a;){for(o=r.length;o--;)r[o]*=t;for(r[0]+=Ye.indexOf(e.charAt(s++)),i=0;i<r.length;i++)r[i]>n-1&&(r[i+1]===void 0&&(r[i+1]=0),r[i+1]+=r[i]/n|0,r[i]%=n)}return r.reverse()}function Kn(e,t){var n,i,r;if(t.isZero())return t;i=t.d.length,i<32?(n=Math.ceil(i/3),r=(1/De(4,n)).toString()):(n=16,r="2.3283064365386962890625e-10"),e.precision+=n,t=me(e,1,t.times(r),new e(1));for(var o=n;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,t}var I=function(){function e(i,r,o){var s,a=0,c=i.length;for(i=i.slice();c--;)s=i[c]*r+a,i[c]=s%o|0,a=s/o|0;return a&&i.unshift(a),i}function t(i,r,o,s){var a,c;if(o!=s)c=o>s?1:-1;else for(a=c=0;a<o;a++)if(i[a]!=r[a]){c=i[a]>r[a]?1:-1;break}return c}function n(i,r,o,s){for(var a=0;o--;)i[o]-=a,a=i[o]<r[o]?1:0,i[o]=a*s+i[o]-r[o];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,o,s,a,c){var u,l,m,d,b,h,k,V,R,H,x,F,Ce,ee,Ze,Ke,be,je,z,Ne,Le=i.constructor,Qe=i.s==r.s?1:-1,E=i.d,S=r.d;if(!E||!E[0]||!S||!S[0])return new Le(!i.s||!r.s||(E?S&&E[0]==S[0]:!S)?NaN:E&&E[0]==0||!S?Qe*0:Qe/0);for(c?(b=1,l=i.e-r.e):(c=Q,b=g,l=v(i.e/b)-v(r.e/b)),z=S.length,be=E.length,R=new Le(Qe),H=R.d=[],m=0;S[m]==(E[m]||0);m++);if(S[m]>(E[m]||0)&&l--,o==null?(ee=o=Le.precision,s=Le.rounding):a?ee=o+(i.e-r.e)+1:ee=o,ee<0)H.push(1),h=!0;else{if(ee=ee/b+2|0,m=0,z==1){for(d=0,S=S[0],ee++;(m<be||d)&&ee--;m++)Ze=d*c+(E[m]||0),H[m]=Ze/S|0,d=Ze%S|0;h=d||m<be}else{for(d=c/(S[0]+1)|0,d>1&&(S=e(S,d,c),E=e(E,d,c),z=S.length,be=E.length),Ke=z,x=E.slice(0,z),F=x.length;F<z;)x[F++]=0;Ne=S.slice(),Ne.unshift(0),je=S[0],S[1]>=c/2&&++je;do d=0,u=t(S,x,z,F),u<0?(Ce=x[0],z!=F&&(Ce=Ce*c+(x[1]||0)),d=Ce/je|0,d>1?(d>=c&&(d=c-1),k=e(S,d,c),V=k.length,F=x.length,u=t(k,x,V,F),u==1&&(d--,n(k,z<V?Ne:S,V,c))):(d==0&&(u=d=1),k=S.slice()),V=k.length,V<F&&k.unshift(0),n(x,k,F,c),u==-1&&(F=x.length,u=t(S,x,z,F),u<1&&(d++,n(x,z<F?Ne:S,F,c))),F=x.length):u===0&&(d++,x=[0]),H[m++]=d,u&&x[0]?x[F++]=E[Ke]||0:(x=[E[Ke]],F=1);while((Ke++<be||x[0]!==void 0)&&ee--);h=x[0]!==void 0}H[0]||H.shift()}if(b==1)R.e=l,Ct=h;else{for(m=1,d=H[0];d>=10;d/=10)m++;R.e=m+l*b-1,f(R,a?o+R.e+1:o,s,h)}return R}}();function f(e,t,n,i){var r,o,s,a,c,u,l,m,d,b=e.constructor;e:if(t!=null){if(m=e.d,!m)return e;for(r=1,a=m[0];a>=10;a/=10)r++;if(o=t-r,o<0)o+=g,s=t,l=m[d=0],c=l/M(10,r-s-1)%10|0;else if(d=Math.ceil((o+1)/g),a=m.length,d>=a)if(i){for(;a++<=d;)m.push(0);l=c=0,r=1,o%=g,s=o-g+1}else break e;else{for(l=a=m[d],r=1;a>=10;a/=10)r++;o%=g,s=o-g+r,c=s<0?0:l/M(10,r-s-1)%10|0}if(i=i||t<0||m[d+1]!==void 0||(s<0?l:l%M(10,r-s-1)),u=n<4?(c||i)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||i||n==6&&(o>0?s>0?l/M(10,r-s):0:m[d-1])%10&1||n==(e.s<0?8:7)),t<1||!m[0])return m.length=0,u?(t-=e.e+1,m[0]=M(10,(g-t%g)%g),e.e=-t||0):m[0]=e.e=0,e;if(o==0?(m.length=d,a=1,d--):(m.length=d+1,a=M(10,g-o),m[d]=s>0?(l/M(10,r-s)%M(10,s)|0)*a:0),u)for(;;)if(d==0){for(o=1,s=m[0];s>=10;s/=10)o++;for(s=m[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(e.e++,m[0]==Q&&(m[0]=1));break}else{if(m[d]+=a,m[d]!=Q)break;m[d--]=0,a=1}for(o=m.length;m[--o]===0;)m.pop()}return P&&(e.e>b.maxE?(e.d=null,e.e=NaN):e.e<b.minE&&(e.e=0,e.d=[0])),e}function J(e,t,n){if(!e.isFinite())return Et(e);var i,r=e.e,o=O(e.d),s=o.length;return t?(n&&(i=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+re(i):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):r<0?(o="0."+re(-r-1)+o,n&&(i=n-s)>0&&(o+=re(i))):r>=s?(o+=re(r+1-s),n&&(i=n-r-1)>0&&(o=o+"."+re(i))):((i=r+1)<s&&(o=o.slice(0,i)+"."+o.slice(i)),n&&(i=n-s)>0&&(r+1===s&&(o+="."),o+=re(i))),o}function ve(e,t){var n=e[0];for(t*=g;n>=10;n/=10)t++;return t}function Fe(e,t,n){if(t>Cn)throw P=!0,n&&(e.precision=n),Error(Kt);return f(new e(Me),t,1,!0)}function j(e,t,n){if(t>$e)throw Error(Kt);return f(new e(Oe),t,n,!0)}function Mt(e){var t=e.length-1,n=t*g+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function re(e){for(var t="";e--;)t+="0";return t}function Ot(e,t,n,i){var r,o=new e(1),s=Math.ceil(i/g+4);for(P=!1;;){if(n%2&&(o=o.times(t),It(o.d,s)&&(r=!0)),n=v(n/2),n===0){n=o.d.length-1,r&&o.d[n]===0&&++o.d[n];break}t=t.times(t),It(t.d,s)}return P=!0,o}function xt(e){return e.d[e.d.length-1]&1}function Ft(e,t,n){for(var i,r=new e(t[0]),o=0;++o<t.length;)if(i=new e(t[o]),i.s)r[n](i)&&(r=i);else{r=i;break}return r}function et(e,t){var n,i,r,o,s,a,c,u=0,l=0,m=0,d=e.constructor,b=d.rounding,h=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(P=!1,c=h):c=t,a=new d(.03125);e.e>-2;)e=e.times(a),m+=5;for(i=Math.log(M(2,m))/Math.LN10*2+5|0,c+=i,n=o=s=new d(1),d.precision=c;;){if(o=f(o.times(e),c,1),n=n.times(++l),a=s.plus(I(o,n,c,1)),O(a.d).slice(0,c)===O(s.d).slice(0,c)){for(r=m;r--;)s=f(s.times(s),c,1);if(t==null)if(u<3&&ge(s.d,c-i,b,u))d.precision=c+=10,n=o=a=new d(1),l=0,u++;else return f(s,d.precision=h,b,P=!0);else return d.precision=h,s}s=a}}function oe(e,t){var n,i,r,o,s,a,c,u,l,m,d,b=1,h=10,k=e,V=k.d,R=k.constructor,H=R.rounding,x=R.precision;if(k.s<0||!V||!V[0]||!k.e&&V[0]==1&&V.length==1)return new R(V&&!V[0]?-1/0:k.s!=1?NaN:V?0:k);if(t==null?(P=!1,l=x):l=t,R.precision=l+=h,n=O(V),i=n.charAt(0),Math.abs(o=k.e)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)k=k.times(e),n=O(k.d),i=n.charAt(0),b++;o=k.e,i>1?(k=new R("0."+n),o++):k=new R(i+"."+n.slice(1))}else return u=Fe(R,l+2,x).times(o+""),k=oe(new R(i+"."+n.slice(1)),l-h).plus(u),R.precision=x,t==null?f(k,x,H,P=!0):k;for(m=k,c=s=k=I(k.minus(1),k.plus(1),l,1),d=f(k.times(k),l,1),r=3;;){if(s=f(s.times(d),l,1),u=c.plus(I(s,new R(r),l,1)),O(u.d).slice(0,l)===O(c.d).slice(0,l))if(c=c.times(2),o!==0&&(c=c.plus(Fe(R,l+2,x).times(o+""))),c=I(c,new R(b),l,1),t==null)if(ge(c.d,l-h,H,a))R.precision=l+=h,u=s=k=I(m.minus(1),m.plus(1),l,1),d=f(k.times(k),l,1),r=a=1;else return f(c,R.precision=x,H,P=!0);else return R.precision=x,c;c=u,r+=2}}function Et(e){return String(e.s*e.s/0)}function tt(e,t){var n,i,r;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;i++);for(r=t.length;t.charCodeAt(r-1)===48;--r);if(t=t.slice(i,r),t){if(r-=i,e.e=n=n-i-1,e.d=[],i=(n+1)%g,n<0&&(i+=g),i<r){for(i&&e.d.push(+t.slice(0,i)),r-=g;i<r;)e.d.push(+t.slice(i,i+=g));t=t.slice(i),i=g-t.length}else i-=r;for(;i--;)t+="0";e.d.push(+t),P&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Nn(e,t){var n,i,r,o,s,a,c,u,l;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Rt.test(t))return tt(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(xn.test(t))n=16,t=t.toLowerCase();else if(Bn.test(t))n=2;else if(In.test(t))n=8;else throw Error(se+t);for(o=t.search(/p/i),o>0?(c=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),o=t.indexOf("."),s=o>=0,i=e.constructor,s&&(t=t.replace(".",""),a=t.length,o=a-o,r=Ot(i,new i(n),o,o*2)),u=Re(t,n,Q),l=u.length-1,o=l;u[o]===0;--o)u.pop();return o<0?new i(e.s*0):(e.e=ve(u,l),e.d=u,P=!1,s&&(e=I(e,r,a*4)),c&&(e=e.times(Math.abs(c)<54?M(2,c):ye.pow(2,c))),P=!0,e)}function Ln(e,t){var n,i=t.d.length;if(i<3)return t.isZero()?t:me(e,2,t,t);n=1.4*Math.sqrt(i),n=n>16?16:n|0,t=t.times(1/De(5,n)),t=me(e,2,t,t);for(var r,o=new e(5),s=new e(16),a=new e(20);n--;)r=t.times(t),t=t.times(o.plus(r.times(s.times(r).minus(a))));return t}function me(e,t,n,i,r){var o,s,a,c,u=1,l=e.precision,m=Math.ceil(l/g);for(P=!1,c=n.times(n),a=new e(i);;){if(s=I(a.times(c),new e(t++*t++),l,1),a=r?i.plus(s):i.minus(s),i=I(s.times(c),new e(t++*t++),l,1),s=a.plus(i),s.d[m]!==void 0){for(o=m;s.d[o]===a.d[o]&&o--;);if(o==-1)break}o=a,a=i,i=s,s=o,u++}return P=!0,s.d.length=m+1,s}function De(e,t){for(var n=e;--t;)n*=e;return n}function vt(e,t){var n,i=t.s<0,r=j(e,e.precision,1),o=r.times(.5);if(t=t.abs(),t.lte(o))return te=i?4:1,t;if(n=t.divToInt(r),n.isZero())te=i?3:2;else{if(t=t.minus(n.times(r)),t.lte(o))return te=xt(n)?i?2:3:i?4:1,t;te=xt(n)?i?1:4:i?3:2}return t.minus(r).abs()}function nt(e,t,n,i){var r,o,s,a,c,u,l,m,d,b=e.constructor,h=n!==void 0;if(h?(q(n,1,ae),i===void 0?i=b.rounding:q(i,0,8)):(n=b.precision,i=b.rounding),!e.isFinite())l=Et(e);else{for(l=J(e),s=l.indexOf("."),h?(r=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):r=t,s>=0&&(l=l.replace(".",""),d=new b(1),d.e=l.length-s,d.d=Re(J(d),10,r),d.e=d.d.length),m=Re(l,10,r),o=c=m.length;m[--c]==0;)m.pop();if(!m[0])l=h?"0p+0":"0";else{if(s<0?o--:(e=new b(e),e.d=m,e.e=o,e=I(e,d,n,i,0,r),m=e.d,o=e.e,u=Ct),s=m[n],a=r/2,u=u||m[n+1]!==void 0,u=i<4?(s!==void 0||u)&&(i===0||i===(e.s<0?3:2)):s>a||s===a&&(i===4||u||i===6&&m[n-1]&1||i===(e.s<0?8:7)),m.length=n,u)for(;++m[--n]>r-1;)m[n]=0,n||(++o,m.unshift(1));for(c=m.length;!m[c-1];--c);for(s=0,l="";s<c;s++)l+=Ye.charAt(m[s]);if(h){if(c>1)if(t==16||t==8){for(s=t==16?4:3,--c;c%s;c++)l+="0";for(m=Re(l,r,t),c=m.length;!m[c-1];--c);for(s=1,l="1.";s<c;s++)l+=Ye.charAt(m[s])}else l=l.charAt(0)+"."+l.slice(1);l=l+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)l="0"+l;l="0."+l}else if(++o>c)for(o-=c;o--;)l+="0";else o<c&&(l=l.slice(0,o)+"."+l.slice(o))}l=(t==16?"0x":t==2?"0b":t==8?"0o":"")+l}return e.s<0?"-"+l:l}function It(e,t){if(e.length>t)return e.length=t,!0}function Rn(e){return new this(e).abs()}function Mn(e){return new this(e).acos()}function On(e){return new this(e).acosh()}function Fn(e,t){return new this(e).plus(t)}function En(e){return new this(e).asin()}function vn(e){return new this(e).asinh()}function Dn(e){return new this(e).atan()}function Vn(e){return new this(e).atanh()}function _n(e,t){e=new this(e),t=new this(t);var n,i=this.precision,r=this.rounding,o=i+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=j(this,o,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?j(this,i,r):new this(0),n.s=e.s):!e.d||t.isZero()?(n=j(this,o,1).times(.5),n.s=e.s):t.s<0?(this.precision=o,this.rounding=1,n=this.atan(I(e,t,o,1)),t=j(this,o,1),this.precision=i,this.rounding=r,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(I(e,t,o,1)),n}function Wn(e){return new this(e).cbrt()}function qn(e){return f(e=new this(e),e.e+1,2)}function Gn(e,t,n){return new this(e).clamp(t,n)}function Un(e){if(!e||typeof e!="object")throw Error(Ee+"Object expected");var t,n,i,r=e.defaults===!0,o=["precision",1,ae,"rounding",0,8,"toExpNeg",-le,0,"toExpPos",0,le,"maxE",0,le,"minE",-le,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(n=o[t],r&&(this[n]=Je[n]),(i=e[n])!==void 0)if(v(i)===i&&i>=o[t+1]&&i<=o[t+2])this[n]=i;else throw Error(se+n+": "+i);if(n="crypto",r&&(this[n]=Je[n]),(i=e[n])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Nt);else this[n]=!1;else throw Error(se+n+": "+i);return this}function Xn(e){return new this(e).cos()}function Hn(e){return new this(e).cosh()}function Dt(e){var t,n,i;function r(o){var s,a,c,u=this;if(!(u instanceof r))return new r(o);if(u.constructor=r,St(o)){u.s=o.s,P?!o.d||o.e>r.maxE?(u.e=NaN,u.d=null):o.e<r.minE?(u.e=0,u.d=[0]):(u.e=o.e,u.d=o.d.slice()):(u.e=o.e,u.d=o.d?o.d.slice():o.d);return}if(c=typeof o,c==="number"){if(o===0){u.s=1/o<0?-1:1,u.e=0,u.d=[0];return}if(o<0?(o=-o,u.s=-1):u.s=1,o===~~o&&o<1e7){for(s=0,a=o;a>=10;a/=10)s++;P?s>r.maxE?(u.e=NaN,u.d=null):s<r.minE?(u.e=0,u.d=[0]):(u.e=s,u.d=[o]):(u.e=s,u.d=[o]);return}else if(o*0!==0){o||(u.s=NaN),u.e=NaN,u.d=null;return}return tt(u,o.toString())}else if(c!=="string")throw Error(se+o);return(a=o.charCodeAt(0))===45?(o=o.slice(1),u.s=-1):(a===43&&(o=o.slice(1)),u.s=1),Rt.test(o)?tt(u,o):Nn(u,o)}if(r.prototype=p,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=Un,r.clone=Dt,r.isDecimal=St,r.abs=Rn,r.acos=Mn,r.acosh=On,r.add=Fn,r.asin=En,r.asinh=vn,r.atan=Dn,r.atanh=Vn,r.atan2=_n,r.cbrt=Wn,r.ceil=qn,r.clamp=Gn,r.cos=Xn,r.cosh=Hn,r.div=zn,r.exp=Zn,r.floor=jn,r.hypot=Qn,r.ln=Yn,r.log=Jn,r.log10=ei,r.log2=$n,r.max=ti,r.min=ni,r.mod=ii,r.mul=ri,r.pow=oi,r.random=si,r.round=ai,r.sign=ui,r.sin=ci,r.sinh=li,r.sqrt=mi,r.sub=di,r.sum=pi,r.tan=fi,r.tanh=bi,r.trunc=gi,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return r.config(e),r}function zn(e,t){return new this(e).div(t)}function Zn(e){return new this(e).exp()}function jn(e){return f(e=new this(e),e.e+1,3)}function Qn(){var e,t,n=new this(0);for(P=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return P=!0,new this(1/0);n=t}return P=!0,n.sqrt()}function St(e){return e instanceof ye||e&&e.toStringTag===Lt||!1}function Yn(e){return new this(e).ln()}function Jn(e,t){return new this(e).log(t)}function $n(e){return new this(e).log(2)}function ei(e){return new this(e).log(10)}function ti(){return Ft(this,arguments,"lt")}function ni(){return Ft(this,arguments,"gt")}function ii(e,t){return new this(e).mod(t)}function ri(e,t){return new this(e).mul(t)}function oi(e,t){return new this(e).pow(t)}function si(e){var t,n,i,r,o=0,s=new this(1),a=[];if(e===void 0?e=this.precision:q(e,1,ae),i=Math.ceil(e/g),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));o<i;)r=t[o],r>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=r%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);o<i;)r=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((t[o+3]&127)<<24),r>=214e7?crypto.randomBytes(4).copy(t,o):(a.push(r%1e7),o+=4);o=i/4}else throw Error(Nt);else for(;o<i;)a[o++]=Math.random()*1e7|0;for(i=a[--o],e%=g,i&&e&&(r=M(10,g-e),a[o]=(i/r|0)*r);a[o]===0;o--)a.pop();if(o<0)n=0,a=[0];else{for(n=-1;a[0]===0;n-=g)a.shift();for(i=1,r=a[0];r>=10;r/=10)i++;i<g&&(n-=g-i)}return s.e=n,s.d=a,s}function ai(e){return f(e=new this(e),e.e+1,this.rounding)}function ui(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function ci(e){return new this(e).sin()}function li(e){return new this(e).sinh()}function mi(e){return new this(e).sqrt()}function di(e,t){return new this(e).sub(t)}function pi(){var e=0,t=arguments,n=new this(t[e]);for(P=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return P=!0,f(n,this.precision,this.rounding)}function fi(e){return new this(e).tan()}function bi(e){return new this(e).tanh()}function gi(e){return f(e=new this(e),e.e+1,1)}p[Symbol.for("nodejs.util.inspect.custom")]=p.toString;p[Symbol.toStringTag]="Decimal";var ye=p.constructor=Dt(Je);Me=new ye(Me);Oe=new ye(Oe);var U=ye;import{PublicKey as Or}from"@solana/web3.js";import{get as Vt,set as yi}from"lodash";var it=class{constructor(t){this.logLevel=t.logLevel!==void 0?t.logLevel:0,this.name=t.name}set level(t){this.logLevel=t}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(t){return t<=this.logLevel}error(...t){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...t),this):this}logWithError(...t){let n=t.map(i=>typeof i=="object"?JSON.stringify(i):i).join(", ");throw new Error(n)}warning(...t){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...t),this):this}info(...t){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...t),this):this}debug(...t){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...t),this):this}},_t={},wi={};function _(e){let t=Vt(_t,e);if(!t){let n=Vt(wi,e);t=new it({name:e,logLevel:n}),yi(_t,e,t)}return t}import{MINT_SIZE as Dr,TOKEN_PROGRAM_ID as Vr,getTransferFeeConfig as _r,unpackMint as Wr}from"@solana/spl-token";var qr=_("Raydium_accountInfo_util");import ne from"bn.js";import Ii from"big.js";import so from"bn.js";import Pi from"toformat";var Ai=Pi,we=Ai;import We from"big.js";import Ti from"bn.js";import hi from"decimal.js-light";import Pe from"bn.js";var qt=9007199254740991;function $(e){let t=_("Raydium_parseBigNumberish");if(e instanceof Pe)return e;if(typeof e=="string"){if(e.match(/^-?[0-9]+$/))return new Pe(e);t.logWithError(`invalid BigNumberish string: ${e}`)}return typeof e=="number"?(e%1&&t.logWithError(`BigNumberish number underflow: ${e}`),(e>=qt||e<=-qt)&&t.logWithError(`BigNumberish number overflow: ${e}`),new Pe(String(e))):typeof e=="bigint"?new Pe(e.toString()):(t.error(`invalid BigNumberish value: ${e}`),new Pe(0))}var _e=_("module/fraction"),rt=we(We),Ae=we(hi),Bi={[0]:Ae.ROUND_DOWN,[1]:Ae.ROUND_HALF_UP,[2]:Ae.ROUND_UP},xi={[0]:We.roundDown,[1]:We.roundHalfUp,[2]:We.roundUp},C=class{constructor(t,n=new Ti(1)){this.numerator=$(t),this.denominator=$(n)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new C(this.denominator,this.numerator)}add(t){let n=t instanceof C?t:new C($(t));return this.denominator.eq(n.denominator)?new C(this.numerator.add(n.numerator),this.denominator):new C(this.numerator.mul(n.denominator).add(n.numerator.mul(this.denominator)),this.denominator.mul(n.denominator))}sub(t){let n=t instanceof C?t:new C($(t));return this.denominator.eq(n.denominator)?new C(this.numerator.sub(n.numerator),this.denominator):new C(this.numerator.mul(n.denominator).sub(n.numerator.mul(this.denominator)),this.denominator.mul(n.denominator))}mul(t){let n=t instanceof C?t:new C($(t));return new C(this.numerator.mul(n.numerator),this.denominator.mul(n.denominator))}div(t){let n=t instanceof C?t:new C($(t));return new C(this.numerator.mul(n.denominator),this.denominator.mul(n.numerator))}toSignificant(t,n={groupSeparator:""},i=1){Number.isInteger(t)||_e.logWithError(`${t} is not an integer.`),t<=0&&_e.logWithError(`${t} is not positive.`),Ae.set({precision:t+1,rounding:Bi[i]});let r=new Ae(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(t);return r.toFormat(r.decimalPlaces(),n)}toFixed(t,n={groupSeparator:""},i=1){return Number.isInteger(t)||_e.logWithError(`${t} is not an integer.`),t<0&&_e.logWithError(`${t} is negative.`),rt.DP=t,rt.RM=xi[i]||1,new rt(this.numerator.toString()).div(this.denominator.toString()).toFormat(t,n)}isZero(){return this.numerator.isZero()}};var go=_("Raydium_amount"),yo=we(Ii);import{PublicKey as Ci}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Gt}from"@solana/spl-token";var ot={chainId:101,address:Ci.default.toBase58(),programId:Gt.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},ue={chainId:101,address:"So11111111111111111111111111111111111111112",programId:Gt.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};import{PublicKey as at}from"@solana/web3.js";import{PublicKey as K,SystemProgram as Ut,SYSVAR_RENT_PUBKEY as Ki}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Ni}from"@solana/spl-token";function st({pubkey:e,isSigner:t=!1,isWritable:n=!0}){return{pubkey:e,isWritable:n,isSigner:t}}var xo=[st({pubkey:Ni,isWritable:!1}),st({pubkey:Ut.programId,isWritable:!1}),st({pubkey:Ki,isWritable:!1})];function Xt({publicKey:e,transformSol:t}){let n=Ht(e.toString());if(n instanceof K)return t&&n.equals(ke)?Ve:n;if(t&&n.toString()===ke.toBase58())return Ve;if(typeof n=="string"){if(n===K.default.toBase58())return K.default;try{return new K(n)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function Ht(e){try{return new K(e)}catch{return e}}var Li=new K("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Ri=new K("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Mi=new K("SysvarRent111111111111111111111111111111111"),Io=new K("SysvarC1ock11111111111111111111111111111111"),zt=new K("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),So=new K("Sysvar1nstructions1111111111111111111111111"),Co=Ut.programId,Ko=new K("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),No=new K("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),Lo=new K("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),Ro=new K("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),Mo=new K("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),Oo=new K("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),Fo=new K("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),Eo=new K("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),vo=new K("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),Do=new K("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),Vo=new K("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),Ve=new K("So11111111111111111111111111111111111111112"),ke=K.default;var ut=class{constructor({mint:t,decimals:n,symbol:i,name:r,skipMint:o=!1,isToken2022:s=!1}){if(t===ke.toBase58()||t instanceof at&&ke.equals(t)){this.decimals=ue.decimals,this.symbol=ue.symbol,this.name=ue.name,this.mint=new at(ue.address),this.isToken2022=!1;return}this.decimals=n,this.symbol=i||t.toString().substring(0,6),this.name=r||t.toString().substring(0,6),this.mint=o?at.default:Xt({publicKey:t}),this.isToken2022=s}equals(t){return this===t?!0:this.mint.equals(t.mint)}},ce=ut;ce.WSOL=new ut(Y(Z({},ue),{mint:ue.address}));var ct=class{constructor({decimals:t,symbol:n="UNKNOWN",name:i="UNKNOWN"}){this.decimals=t,this.symbol=n,this.name=i}equals(t){return this===t}},qe=ct;qe.SOL=new ct(ot);import Oi from"bn.js";var Yo=new C(new Oi(100));var is=_("Raydium_price");import{PublicKey as As}from"@solana/web3.js";import Ts from"bn.js";var Fi=new ne(0),_s=new ne(1),Ws=new ne(2),qs=new ne(3),Gs=new ne(5),Si=new ne(10),Us=new ne(100),Xs=new ne(1e3),Hs=new ne(1e4);import{PublicKey as ya}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Pa}from"@solana/spl-token";import{ComputeBudgetProgram as ea,Keypair as ia,PublicKey as ra,Transaction as sa,TransactionMessage as ua,VersionedTransaction as ca}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as pa}from"@solana/spl-token";var fa=_("Raydium_txUtil");import{PublicKey as A}from"@solana/web3.js";var ha=new A("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),Ba=new A("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),xa=new A("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),Ia=new A("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),Sa=new A("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),Ca=new A("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),Ka=new A("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),Na=new A("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),La=new A("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),Ra=new A("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),vi=new A("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),Di=new A("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Vi=new A("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),Ma=new A("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),Oa=new A("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),Fa=new A("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),Ea=new A("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),va=new A("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),Da=new A("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),Va=new A("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),_a=new A("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),Wa=new A("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),_i=new A("CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"),Wi=new A("7rQ1QFNosMkUCuh7Z7fPbTHvh73b68sQYdirycEzJVuw"),qi=new A("G11FKBRaAkHAKuLCgLM6K6NUc9rTjPAznRCjZifrTQe2"),qa=new A("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Gi=new A("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),Ga=new A("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),Ui=new A("7AFUeLVRjBfzqK3tTGw8hN48KLQWSk6DTE8xprWdPqix"),Ua=new A("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),Xa=new A("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),Xi=new A("7soRSLviCKHCKzCbRuVpZDif76NWLVqFtbjt8LpyxWSq"),Hi=new A("DG6kZFFCqxdtWXw53Zc28hLs3MTr28Efkm2FrsNERNSQ");var Ha={SERUM_MARKET:A.default,OPENBOOK_MARKET:new A("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),UTIL1216:A.default,FarmV3:new A("85BFyr98MbCUU9MVTEgzx1nbhWACbJqLzho6zd6DZcWL"),FarmV5:new A("EcLzTrNg9V7qhcdyXDe2qjtPkiGzDM2UbdRaeaadU5r2"),FarmV6:new A("Farm2hJLcqPtPg8M4rR6DMrsRNc5TPm5Cs4bVQrMe2T7"),AmmV4:new A("HWy1jotHpo6UqeQxx49dpYYdQB8wj9Qk9MdxwjLvDHB8"),AmmStable:new A("DDg4VmQaJV9ogWce7LpcjBA9bv22wRp5uaTPa5pGjijF"),CLMM:new A("devi51mZmdwUJGU9hjN27vEz64Gps7uUefqxg27EAtH"),CLMM_LOCK_PROGRAM_ID:new A("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),CLMM_LOCK_AUTH_ID:new A("8qmHNvu2Kr2C7U8mJL4Vz1vTDxMhVuXKREwU7TNoaVEo"),Router:new A("BVChZ3XFEwTMUk1o9i3HAf91H6mFxSwa5X2wFAWhYPhU"),CREATE_CPMM_POOL_PROGRAM:_i,CREATE_CPMM_POOL_AUTH:Wi,CREATE_CPMM_POOL_FEE_ACC:qi,FEE_DESTINATION_ID:new A("3XMrhbv989VxAMi3DErLV9eJht1pHppW5LbKxe9fkEFR"),LOCK_CPMM_PROGRAM:Gi,LCOK_CPMM_AUTH:Ui,LAUNCHPAD_PROGRAM:Xi,LAUNCHPAD_AUTH:Hi};import Ue from"bn.js";function Zt(e,t){if(e.isZero())return new Ue(0);let n=e.div(t);return n.isZero()?new Ue(1):e.mod(t).gt(new Ue(0))?n.add(new Ue(1)):n}import{PublicKey as zi,AddressLookupTableAccount as jt}from"@solana/web3.js";var Zi={AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU:new jt({key:new zi("AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU"),state:jt.deserialize(Buffer.from("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","base64"))})};import{PublicKey as lu,sendAndConfirmTransaction as mu,SystemProgram as fu,Transaction as bu,TransactionMessage as yu,VersionedTransaction as wu}from"@solana/web3.js";import Au from"axios";import Yi from"bn.js";var Su=new Yi(1e6);var Xe=class{static getPoolInitPriceByPool({poolInfo:t,decimalA:n,decimalB:i}){throw Error()}static getPoolInitPriceByInit({a:t,b:n,decimalA:i,decimalB:r}){throw Error()}static getPoolPrice({poolInfo:t,decimalA:n,decimalB:i}){throw Error()}static getPoolEndPrice({supply:t,totalSell:n,totalLockedAmount:i,totalFundRaising:r,migrateFee:o,decimalA:s,decimalB:a}){throw Error()}static getPoolEndPriceReal({poolInfo:t,decimalA:n,decimalB:i}){throw Error()}static getInitParam({supply:t,totalFundRaising:n,totalSell:i,totalLockedAmount:r,migrateFee:o}){throw Error()}static buyExactIn({poolInfo:t,amount:n}){throw Error()}static buyExactOut({poolInfo:t,amount:n}){throw Error()}static sellExactIn({poolInfo:t,amount:n}){throw Error()}static sellExactOut({poolInfo:t,amount:n}){throw Error()}};import{PublicKey as zd}from"@solana/web3.js";import jd from"bn.js";import{AccountLayout as $d,TOKEN_2022_PROGRAM_ID as ep,TOKEN_PROGRAM_ID as tp}from"@solana/spl-token";import{PublicKey as Yu}from"@solana/web3.js";import{MintLayout as $u,TOKEN_PROGRAM_ID as tc}from"@solana/spl-token";import{Keypair as gd,PublicKey as yd,SystemProgram as Pd,TransactionInstruction as Ad}from"@solana/web3.js";import Td from"bn.js";import{ASSOCIATED_TOKEN_PROGRAM_ID as xd,TOKEN_2022_PROGRAM_ID as Id,TOKEN_PROGRAM_ID as Sd}from"@solana/spl-token";import{PublicKey as sr}from"@solana/web3.js";import en,{isBN as tn}from"bn.js";import{bits as pc,BitStructure as fc,blob as Ji,Blob as bc,cstr as gc,f32 as yc,f32be as wc,f64 as Pc,f64be as Ac,greedy as kc,Layout as $i,ns64 as Tc,ns64be as hc,nu64 as Bc,nu64be as xc,offset as Ic,s16 as Sc,s16be as Cc,s24 as Kc,s24be as Nc,s32 as er,s32be as Lc,s40 as Rc,s40be as Mc,s48 as Oc,s48be as Fc,s8 as Ec,seq as tr,struct as vc,Structure as nr,u16 as ir,u16be as Dc,u24 as Vc,u24be as _c,u32 as Wc,u32be as qc,u40 as Gc,u40be as Uc,u48 as Xc,u48be as Hc,u8 as rr,UInt as or,union as zc,Union as Zc,unionLayoutDiscriminator as jc,utf8 as Qc}from"@solana/buffer-layout";var pt=$i,Yt=nr;var ft=or;var Jt=rr,Te=ir;var ie=er;var $t=tr;var G=Ji;var de=class extends pt{constructor(n,i,r){super(n,r);this.blob=G(n),this.signed=i}decode(n,i=0){let r=new en(this.blob.decode(n,i),10,"le");return this.signed?r.fromTwos(this.span*8).clone():r}encode(n,i,r=0){return typeof n=="number"&&(n=new en(n)),this.signed&&(n=n.toTwos(this.span*8)),this.blob.encode(n.toArrayLike(Buffer,"le",this.span),i,r)}};function W(e){return new ft(1,e)}function pe(e){return new ft(4,e)}function T(e){return new de(8,!1,e)}function N(e){return new de(16,!1,e)}function nn(e){return new de(8,!0,e)}function rn(e){return new de(16,!0,e)}var He=class extends pt{constructor(n,i,r,o){super(n.span,o);this.layout=n,this.decoder=i,this.encoder=r}decode(n,i){return this.decoder(this.layout.decode(n,i))}encode(n,i,r){return this.layout.encode(this.encoder(n),i,r)}getSpan(n,i){return this.layout.getSpan(n,i)}};function B(e){return new He(G(32),t=>new sr(t),t=>t.toBuffer(),e)}function gt(e){return new He(Jt(),ar,ur,e)}function ar(e){if(e===0)return!1;if(e===1)return!0;throw new Error("Invalid bool: "+e)}function ur(e){return e?1:0}var bt=class extends Yt{decode(t,n){return super.decode(t,n)}};function D(e,t,n){return new bt(e,t,n)}function L(e,t,n){let i,r=typeof t=="number"?t:tn(t)?t.toNumber():new Proxy(t,{get(o,s){if(!i){let a=Reflect.get(o,"count");i=tn(a)?a.toNumber():a,Reflect.set(o,"count",i)}return Reflect.get(o,s)},set(o,s,a){return s==="count"&&(i=a),Reflect.set(o,s,a)}});return $t(e,r,n)}import Zm from"bn.js";import X from"bn.js";var yt=new X(0),on=new X(1),sn=new X(-1),he=new X(1).shln(64),an=new X(1).shln(128),cr=he.sub(on);var lr=an.subn(1),fe=-443636,Be=-fe,wt=new X("4295048016"),Pt=new X("79226673521066979257578248091"),ll=new X("4295048017"),ml=new X("79226673521066979257578248090");var mr=new X(10).pow(new X(6));var dl=new X("18446744073700000000");import Om from"bn.js";var Pl=Buffer.from("amm_config","utf8"),Al=Buffer.from("pool","utf8"),kl=Buffer.from("pool_vault","utf8"),Tl=Buffer.from("pool_reward_vault","utf8"),hl=Buffer.from("position","utf8"),Bl=Buffer.from("tick_array","utf8"),xl=Buffer.from("operation","utf8"),Il=Buffer.from("pool_tick_array_bitmap_extension","utf8"),Sl=Buffer.from("observation","utf8");var Cl=Buffer.from("locked_position","utf8");var Kl=Buffer.from("support_mint","utf8");import{PublicKey as um}from"@solana/web3.js";import{TOKEN_2022_PROGRAM_ID as lm}from"@solana/spl-token";import dm from"bn.js";import Rl from"bn.js";var Tt=14;var ze=60;var gr=D([G(8),W("bump"),Te("index"),B(""),pe("protocolFeeRate"),pe("tradeFeeRate"),Te("tickSpacing"),L(T(),8,"")]),yr=D([pe("blockTimestamp"),nn("tickCumulative"),L(T(),4)]),yn=D([G(8),gt("initialized"),T("recentEpoch"),Te("observationIndex"),B("poolId"),L(yr,100,"observations"),L(T(),4)]),wr=D([W("rewardState"),T("openTime"),T("endTime"),T("lastUpdateTime"),N("emissionsPerSecondX64"),T("rewardTotalEmissioned"),T("rewardClaimed"),B("tokenMint"),B("tokenVault"),B("creator"),N("rewardGrowthGlobalX64")]),fn=D([G(8),W("bump"),B("ammConfig"),B("creator"),B("mintA"),B("mintB"),B("vaultA"),B("vaultB"),B("observationId"),W("mintDecimalsA"),W("mintDecimalsB"),Te("tickSpacing"),N("liquidity"),N("sqrtPriceX64"),ie("tickCurrent"),pe(),N("feeGrowthGlobalX64A"),N("feeGrowthGlobalX64B"),T("protocolFeesTokenA"),T("protocolFeesTokenB"),N("swapInAmountTokenA"),N("swapOutAmountTokenB"),N("swapInAmountTokenB"),N("swapOutAmountTokenA"),W("status"),L(W(),7,""),L(wr,3,"rewardInfos"),L(T(),16,"tickArrayBitmap"),T("totalFeesTokenA"),T("totalFeesClaimedTokenA"),T("totalFeesTokenB"),T("totalFeesClaimedTokenB"),T("fundFeesTokenA"),T("fundFeesTokenB"),T("startTime"),L(T(),15*4-3,"padding")]),Pr=D([N("growthInsideLastX64"),T("rewardAmountOwed")]),bn=D([G(8),W("bump"),B("nftMint"),B("poolId"),ie("tickLower"),ie("tickUpper"),N("liquidity"),N("feeGrowthInsideLastX64A"),N("feeGrowthInsideLastX64B"),T("tokenFeesOwedA"),T("tokenFeesOwedB"),L(Pr,3,"rewardInfos"),L(T(),8,"")]),rd=D([G(8),W("bump"),B("poolId"),ie("tickLowerIndex"),ie("tickUpperIndex"),N("liquidity"),N("feeGrowthInsideLastX64A"),N("feeGrowthInsideLastX64B"),T("tokenFeesOwedA"),T("tokenFeesOwedB"),L(N(),3,"rewardGrowthInside"),L(T(),8,"")]),Ar=D([ie("tick"),rn("liquidityNet"),N("liquidityGross"),N("feeGrowthOutsideX64A"),N("feeGrowthOutsideX64B"),L(N(),3,"rewardGrowthsOutsideX64"),L(pe(),13,"")]),mn=D([G(8),B("poolId"),ie("startTickIndex"),L(Ar,ze,"ticks"),W("initializedTickCount"),L(W(),115,"")]),kr=D([G(329),L(B(),100,"whitelistMints")]),br=D([G(8),B("poolId"),L(L(T(),8),Tt,"positiveTickArrayBitmap"),L(L(T(),8),Tt,"negativeTickArrayBitmap")]),od=D([T(),W("bump"),B("owner"),B("poolId"),B("positionId"),B("nftAccount"),L(T(),8)]),sd=D([G(8),W("bump"),B("lockOwner"),B("poolId"),B("positionId"),B("nftAccount"),B("lockNftMint"),T("recentEpoch"),L(T(),8)]);yn.span;var Ed=_("Raydium_Clmm");var wn=class extends Xe{static getPoolInitPriceByPool({poolInfo:t,decimalA:n,decimalB:i}){return new U(t.virtualB.toString()).div(t.virtualA.toString()).mul(10**(n-i))}static getPoolInitPriceByInit({a:t,b:n,decimalA:i,decimalB:r}){return new U(n.toString()).div(t.toString()).mul(10**(i-r))}static getPoolPrice({poolInfo:t,decimalA:n,decimalB:i}){return new U(t.virtualB.add(t.realB).toString()).div(t.virtualA.sub(t.realA).toString()).mul(10**(n-i))}static getPoolEndPrice({supply:t,totalSell:n,totalLockedAmount:i,totalFundRaising:r,migrateFee:o,decimalA:s,decimalB:a}){return new U(r.sub(o).toString()).div(t.sub(n).sub(i).toString()).mul(10**(s-a))}static getPoolEndPriceReal({poolInfo:t,decimalA:n,decimalB:i}){let r=t.totalSellA.sub(t.realA),o=t.totalFundRaisingB.sub(t.realB);return new U(t.virtualB.add(t.realB.add(o)).toString()).div(t.virtualA.sub(t.realA.add(r)).toString()).mul(10**(n-i))}static getInitParam({supply:t,totalFundRaising:n,totalSell:i,totalLockedAmount:r,migrateFee:o}){if(t.lte(i))throw Error("supply need gt total sell");let s=t.sub(i).sub(r);if(s.lte(new Se(0)))throw Error("supplyMinusSellLocked <= 0");let a=n.sub(o);if(a.lte(new Se(0)))throw Error("tfMinusMf <= 0");let c=a.mul(i).mul(i).div(s),u=a.mul(i).div(s).sub(n);if(u.lt(new Se(0)))throw Error("supply/totalSell/totalLockedAmount diff too high");let l=c.div(u),m=n.mul(n).div(u);if(l.lt(new Se(0))||m.lt(new Se(0)))throw Error("invalid input 0");return{a:l,b:m,c:i}}static buyExactIn({poolInfo:t,amount:n}){return this.getAmountOut({amountIn:n,inputReserve:t.virtualB.add(t.realB),outputReserve:t.virtualA.sub(t.realA)})}static buyExactOut({poolInfo:t,amount:n}){return this.getAmountIn({amountOut:n,inputReserve:t.virtualB.add(t.realB),outputReserve:t.virtualA.sub(t.realA)})}static sellExactIn({poolInfo:t,amount:n}){return this.getAmountOut({amountIn:n,inputReserve:t.virtualA.sub(t.realA),outputReserve:t.virtualB.add(t.realB)})}static sellExactOut({poolInfo:t,amount:n}){return this.getAmountIn({amountOut:n,inputReserve:t.virtualA.sub(t.realA),outputReserve:t.virtualB.add(t.realB)})}static getAmountOut({amountIn:t,inputReserve:n,outputReserve:i}){let r=t.mul(i),o=n.add(t);return r.div(o)}static getAmountIn({amountOut:t,inputReserve:n,outputReserve:i}){let r=n.mul(t),o=i.sub(t);return Zt(r,o)}};export{wn as LaunchPadConstantProductCurve,he as Q64};
//# sourceMappingURL=constantProductCurve.mjs.map