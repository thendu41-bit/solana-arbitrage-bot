var A=Object.defineProperty;var S=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var _=(t,r,e)=>r in t?A(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,f=(t,r)=>{for(var e in r||(r={}))V.call(r,e)&&_(t,e,r[e]);if(S)for(var e of S(r))v.call(r,e)&&_(t,e,r[e]);return t};import{PublicKey as De}from"@solana/web3.js";import D,{isBN as I}from"bn.js";import{bits as R,BitStructure as F,blob as G,Blob as j,cstr as z,f32 as M,f32be as O,f64 as H,f64be as J,greedy as Q,Layout as X,ns64 as Y,ns64be as Z,nu64 as $,nu64be as W,offset as ee,s16 as te,s16be as ne,s24 as re,s24be as oe,s32 as se,s32be as ue,s40 as ae,s40be as ie,s48 as ye,s48be as ce,s8 as pe,seq as Pe,struct as Ke,Structure as de,u16 as xe,u16be as fe,u24 as be,u24be as me,u32 as le,u32be as ge,u40 as Le,u40be as he,u48 as Te,u48be as Se,u8 as _e,UInt as we,union as Be,Union as Ue,unionLayoutDiscriminator as ke,utf8 as Ce}from"@solana/buffer-layout";var c=X,w=de,B=Ue,qe=F,b=we,U=j,Re=Q,P=_e,Fe=xe,Ge=be,p=le,je=Le,ze=Te,Me=$,Oe=fe,He=me,Je=ge,Qe=he,Xe=Se,Ye=W,Ze=pe,$e=te,We=re,et=se,tt=ae,nt=ye,rt=Y,ot=ne,st=oe,ut=ue,at=ie,it=ce,yt=Z,ct=M,pt=O,Pt=H,dt=J;var k=Pe,C=Be,xt=ke,d=G,ft=z,bt=Ce,m=R,l=ee;var a=class extends c{constructor(e,n,o){super(e,o);this.blob=d(e),this.signed=n}decode(e,n=0){let o=new D(this.blob.decode(e,n),10,"le");return this.signed?o.fromTwos(this.span*8).clone():o}encode(e,n,o=0){return typeof e=="number"&&(e=new D(e)),this.signed&&(e=e.toTwos(this.span*8)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),n,o)}},N=class extends c{constructor(e){super(8,e);this._lower=m(p(),!1),this._upper=m(p(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e,n=0){let o=this._lower.decode(e,n),s=this._upper.decode(e,n+this._lower.span);return f(f({},o),s)}encode(e,n,o=0){return this._lower.encode(e,n,o)+this._upper.encode(e,n,o+this._lower.span)}};function ht(t){return new b(1,t)}function Tt(t){return new b(4,t)}function Ie(t){return new a(8,!1,t)}function St(t){return new a(16,!1,t)}function _t(t){return new a(1,!0,t)}function wt(t){return new a(8,!0,t)}function Bt(t){return new a(16,!0,t)}var u=class extends c{constructor(e,n,o,s){super(e.span,s);this.layout=e,this.decoder=n,this.encoder=o}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,o){return this.layout.encode(this.encoder(e),n,o)}getSpan(e,n){return this.layout.getSpan(e,n)}};function Ut(t){return new u(d(32),r=>new De(r),r=>r.toBuffer(),t)}var g=class extends c{constructor(e,n){super(-1,n);this.layout=e,this.discriminator=P()}encode(e,n,o=0){return e==null?this.discriminator.encode(0,n,o):(this.discriminator.encode(1,n,o),this.layout.encode(e,n,o+1)+1)}decode(e,n=0){let o=this.discriminator.decode(e,n);if(o===0)return null;if(o===1)return this.layout.decode(e,n+1);throw new Error("Invalid option "+this.property)}getSpan(e,n=0){let o=this.discriminator.decode(e,n);if(o===0)return 1;if(o===1)return this.layout.getSpan(e,n+1)+1;throw new Error("Invalid option "+this.property)}};function kt(t,r){return new g(t,r)}function Ct(t){return new u(P(),Ne,Ee,t)}function Ne(t){if(t===0)return!1;if(t===1)return!0;throw new Error("Invalid bool: "+t)}function Ee(t){return t?1:0}function Dt(t,r){let e=p("length"),n=x([e,E(t,l(e,-e.span),"values")]);return new u(n,({values:o})=>o,o=>({values:o}),r)}function It(t,r,e){let n=x([Ie("tag"),r.replicate("data")]);function o({tag:s,data:i}){if(!s.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+s.toString("hex"));return i}return new u(n,o,s=>({tag:t,data:s}),e)}function Ae(t){let r=p("length"),e=x([r,d(l(r,-r.span),"data")]);return new u(e,({data:n})=>n,n=>({data:n}),t)}function Nt(t){return new u(Ae(),r=>r.toString("utf-8"),r=>Buffer.from(r,"utf-8"),t)}function Et(t,r){let e=C(P(),r);return t.forEach((n,o)=>e.addVariant(o,n,n.property)),e}function At(t,r,e){let n=x([E(t,r,"values")]);return new u(n,({values:o})=>o,o=>({values:o}),e)}var L=class extends w{decode(r,e){return super.decode(r,e)}};function x(t,r,e){return new L(t,r,e)}var h=class extends B{encodeInstruction(r){let e=Math.max(...Object.values(this.registry).map(o=>o.span)),n=Buffer.alloc(e);return n.slice(0,this.encode(r,n))}decodeInstruction(r){return this.decode(r)}};function Vt(t,r,e){return new h(t,r,e)}var T=class extends U{decode(r,e){let n=super.decode(r,e);if(!n.every(o=>o===0))throw new Error("nonzero padding bytes");return n}};function vt(t){return new T(t)}function E(t,r,e){let n,o=typeof r=="number"?r:I(r)?r.toNumber():new Proxy(r,{get(s,i){if(!n){let y=Reflect.get(s,"count");n=I(y)?y.toNumber():y,Reflect.set(s,"count",n)}return Reflect.get(s,i)},set(s,i,y){return i==="count"&&(n=y),Reflect.set(s,i,y)}});return k(t,o,e)}export{a as BNLayout,qe as BitStructure,U as Blob,c as Layout,g as OptionLayout,L as Structure,b as UInt,h as Union,N as WideBits,u as WrappedLayout,At as array,m as bits,d as blob,Ct as bool,ft as cstr,Ne as decodeBool,Ee as encodeBool,ct as f32,pt as f32be,Pt as f64,dt as f64be,Re as greedy,Bt as i128,wt as i64,_t as i8,rt as ns64,yt as ns64be,Me as nu64,Ye as nu64be,l as offset,kt as option,Ut as publicKey,Et as rustEnum,$e as s16,ot as s16be,We as s24,st as s24be,et as s32,ut as s32be,tt as s40,at as s40be,nt as s48,it as s48be,Ze as s8,E as seq,Nt as str,x as struct,It as tagged,St as u128,Fe as u16,Oe as u16be,Ge as u24,He as u24be,Tt as u32,Je as u32be,je as u40,Qe as u40be,ze as u48,Xe as u48be,Ie as u64,ht as u8,Vt as union,xt as unionLayoutDiscriminator,bt as utf8,Dt as vec,Ae as vecU8,vt as zeros};
//# sourceMappingURL=index.mjs.map