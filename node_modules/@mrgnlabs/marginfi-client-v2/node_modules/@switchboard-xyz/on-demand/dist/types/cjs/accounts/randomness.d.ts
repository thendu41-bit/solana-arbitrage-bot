import type { Program } from '@coral-xyz/anchor-31';
import { web3 } from '@coral-xyz/anchor-31';
/**
 * Switchboard commit-reveal randomness.
 * This account type controls commit-reveal style randomness employing
 * Intel SGX enclaves as a randomness security mechanism.
 * For this flow, a user must commit to a future slot that would be unknown
 * to all parties at the time of commitment. The user must then reveal the
 * randomness by then sending the future slot hash to the oracle which can
 * then be signed by the secret key secured within the Trusted Execution Environment.
 *
 * In this manner, the only way for one to predict the randomness is to:
 * 1. Have access to the randomness oracle
 * 2. have control of the solana network slot leader at the time of commit
 * 3. Have an unpatched Intel SGX vulnerability/advisory that the Switchboard
 *   protocol failed to auto-prune.
 */
export declare class Randomness {
    readonly program: Program;
    readonly pubkey: web3.PublicKey;
    private static getPayer;
    /**
     * Constructs a `Randomness` instance.
     *
     * @param {Program} program - The Anchor program instance.
     * @param {web3.PublicKey} pubkey - The public key of the randomness account.
     */
    constructor(program: Program, pubkey: web3.PublicKey);
    /**
     * Loads the randomness data for this {@linkcode Randomness} account from on chain.
     *
     * @returns {Promise<any>} A promise that resolves to the randomness data.
     * @throws Will throw an error if the randomness account does not exist.
     */
    loadData(): Promise<any>;
    /**
     * Creates a new `Randomness` account.
     *
     * @param {Program} program - The Anchor program instance.
     * @param {web3.Keypair} kp - The keypair of the new `Randomness` account.
     * @param {web3.PublicKey} queue - The queue account to associate with the new `Randomness` account.
     * @param {web3.PublicKey} [payer_] - The payer for the transaction. If not provided, the default payer from the program provider is used.
     * @returns {Promise<[Randomness, web3.TransactionInstruction]>} A promise that resolves to a tuple containing the new `Randomness` account and the transaction instruction.
     */
    static create(program: Program, kp: web3.Keypair, queue: web3.PublicKey, payer_?: web3.PublicKey): Promise<[Randomness, web3.TransactionInstruction]>;
    /**
     * Generate a randomness `commit` solana transaction instruction.
     * This will commit the randomness account to use currentSlot + 1 slothash
     * as the non-repeating randomness seed.
     *
     * @param {PublicKey} queue - The queue public key for the commit instruction.
     * @param {PublicKey} [authority_] - The optional authority public key.
     * @returns {Promise<TransactionInstruction>} A promise that resolves to the transaction instruction.
     */
    commitIx(queue: web3.PublicKey, authority_?: web3.PublicKey, oracle_?: web3.PublicKey): Promise<web3.TransactionInstruction>;
    /**
     * Generate a randomness `reveal` solana transaction instruction.
     * This will reveal the randomness using the assigned oracle.
     *
     * @returns {Promise<web3.TransactionInstruction>} A promise that resolves to the transaction instruction.
     */
    revealIx(payer_?: web3.PublicKey): Promise<web3.TransactionInstruction>;
    /**
     * Commit and reveal randomness in a single transaction.
     *
     * @param {TransactionInstruction[]} callback - The callback to execute after the reveal in the same transaction.
     * @param {Keypair[]} signers - The signers to sign the transaction.
     * @param {PublicKey} queue - The queue public key.
     * @param {object} [configs] - The configuration options.
     * @param {number} [configs.computeUnitPrice] - The price per compute unit in microlamports.
     * @param {number} [configs.computeUnitLimit] - The compute unit limit.
     * @returns {Promise<void>} A promise that resolves when the transaction is confirmed.
     */
    commitAndReveal(callback: web3.TransactionInstruction[], signers: web3.Keypair[], queue: web3.PublicKey, configs?: {
        computeUnitPrice?: number;
        computeUnitLimit?: number;
    }, debug?: boolean): Promise<void>;
    /**
     * Creates a new `Randomness` account and prepares a commit transaction instruction.
     *
     * @param {Program} program - The Anchor program instance.
     * @param {web3.PublicKey} queue - The queue account to associate with the new `Randomness` account.
     * @returns {Promise<[Randomness, web3.Keypair, web3.TransactionInstruction[]]>} A promise that resolves to a tuple containing the new `Randomness` instance, the keypair, and an array of transaction instructions.
     */
    static createAndCommitIxs(program: Program, queue: web3.PublicKey, payer_?: web3.PublicKey): Promise<[Randomness, web3.Keypair, web3.TransactionInstruction[]]>;
    /**
     * Generate a randomness `close` solana transaction instruction.
     * This will close the randomness account and return the rent to the authority.
     *
     * @returns {Promise<web3.TransactionInstruction>} A promise that resolves to the transaction instruction.
     */
    closeIx(): Promise<web3.TransactionInstruction>;
}
//# sourceMappingURL=randomness.d.ts.map