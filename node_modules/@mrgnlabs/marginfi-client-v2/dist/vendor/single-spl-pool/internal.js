"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.modernInstructionToLegacy = modernInstructionToLegacy;
const web3_js_1 = require("@solana/web3.js");
const web3_js_2 = require("@solana/web3.js");
function modernInstructionToLegacy(modernInstruction) {
    const keys = [];
    for (const account of modernInstruction.accounts) {
        keys.push({
            pubkey: new web3_js_2.PublicKey(account.address),
            isSigner: !!(account.role & 2),
            isWritable: !!(account.role & 1),
        });
    }
    return new web3_js_1.TransactionInstruction({
        programId: new web3_js_2.PublicKey(modernInstruction.programAddress),
        keys,
        data: Buffer.from(modernInstruction.data),
    });
}
