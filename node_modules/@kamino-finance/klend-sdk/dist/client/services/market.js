"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MAINNET_LENDING_MARKET = exports.STAGING_LENDING_MARKET = void 0;
exports.getMarket = getMarket;
const kit_1 = require("@solana/kit");
const utils_1 = require("../../utils");
const programId_1 = require("../../@codegen/klend/programId");
const classes_1 = require("../../classes");
exports.STAGING_LENDING_MARKET = (0, kit_1.address)('6WVSwDQXrBZeQVnu6hpnsRZhodaJTZBUaC334SiiBKdb');
exports.MAINNET_LENDING_MARKET = (0, kit_1.address)('7u3HeHxYDLhnCoErrtycNokbQYbWGzLs6JSDqGAv5PfF');
async function getMarket(rpc, programId) {
    let marketAddress;
    if (programId === utils_1.STAGING_PROGRAM_ID) {
        marketAddress = exports.STAGING_LENDING_MARKET;
    }
    else if (programId === programId_1.PROGRAM_ID) {
        marketAddress = exports.MAINNET_LENDING_MARKET;
    }
    else {
        throw new Error(`Unknown program id: ${programId.toString()}`);
    }
    const kaminoMarket = await classes_1.KaminoMarket.load(rpc, marketAddress, classes_1.DEFAULT_RECENT_SLOT_DURATION_MS, programId);
    if (kaminoMarket === null) {
        throw new Error(`${programId.toString()} Kamino market ${marketAddress} not found`);
    }
    return kaminoMarket;
}
//# sourceMappingURL=market.js.map